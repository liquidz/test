name: Tag and Release

on:
  # push:
  #   branches:
  #     - master
  workflow_dispatch:
    inputs:
      release:
        description: 'True to release'
        required: true
        type: boolean

jobs:
  first:
    runs-on: ubuntu-latest
    steps:
      #- uses: actions/checkout@v3
      - uses: actions/checkout@5a4ac9002d0be2fb38bd78e4b4dbde5606d7042f
        with:
          ref: master
      - run: |
          git config user.email "liquidz.uo@gmail.com"
          git config user.name ${{ github.actor }}
          git restore .
          bash foo.sh
          git commit -a -m "test [skip ci]"
          git push origin master
          git fetch origin dummy2
          git switch dummy2
          git rebase master
          bash foo.sh
          git commit -a -m "after test [skip ci]"
          git push origin dummy2
